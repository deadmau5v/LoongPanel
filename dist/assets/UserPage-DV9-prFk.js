import{C as r,u as s,j as n}from"./index-DQy_jDpp.js";import{r as a}from"./react-dom-B_KBoKIY.js";import{C as u}from"./index-BHsmcnzQ.js";import{B as d}from"./button-B4MocTzm.js";function l(){const o=document.cookie.split(";");for(let t=0;t<o.length;t++){const e=o[t],i=e.indexOf("="),c=i>-1?e.substr(0,i):e;document.cookie=c+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/"}}function m(){const o=a.useContext(r),t=(o==null?void 0:o.API_URL)+"/api/v1/auth/logout",{setLogined:e}=s();return n.jsx("div",{children:n.jsx(u,{title:"Logout",children:n.jsx(d,{onClick:async()=>{await fetch(t,{method:"POST",headers:{Cookie:document.cookie,Authorization:"Bearer "+document.cookie?document.cookie.split("=")[1]:""}}),e(!1),document.cookie="",l(),window.location.href="/"},children:"退出登录"})})})}function k(){const{logined:o}=s();return o||(window.location.href="/login"),n.jsx(m,{})}export{k as default};
