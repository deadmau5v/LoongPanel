import{K as w,g as ie,b as T,c as ae,r as re,d as se,m as ce,e as le,f as H,h as q,i as j,R as de,k as pe,l as ue,n as fe,o as me,p as ge,q as ve,s as he,I as be,a as ye,t as z,j as p,v as b,w as U,x as Pe,y as Ce,P as xe,u as $e,C as Se,z as D}from"./index-DQy_jDpp.js";import{r as u,b as f}from"./react-dom-B_KBoKIY.js";import{r as je}from"./button-B4MocTzm.js";import{N as Oe,R as Ne,u as we,a as Ie,A as Fe,c as Ee,b as X,P as R,r as Te,F as Re,d as Me}from"./index-ChBuhqYC.js";import{P as Le}from"./ProCard-BRA3H8zR.js";import"./progress-6yScoXch.js";import"./index-Ctjzb3li.js";import"./FileOutlined-Ce6skVGH.js";const _e=e=>{const{componentCls:t,notificationMarginEdge:o,animationMaxHeight:n}=e,i=`${t}-notice`,s=new w("antNotificationFadeIn",{"0%":{transform:"translate3d(100%, 0, 0)",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",opacity:1}}),c=new w("antNotificationTopFadeIn",{"0%":{top:-n,opacity:0},"100%":{top:0,opacity:1}}),a=new w("antNotificationBottomFadeIn",{"0%":{bottom:e.calc(n).mul(-1).equal(),opacity:0},"100%":{bottom:0,opacity:1}}),r=new w("antNotificationLeftFadeIn",{"0%":{transform:"translate3d(-100%, 0, 0)",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",opacity:1}});return{[t]:{[`&${t}-top, &${t}-bottom`]:{marginInline:0,[i]:{marginInline:"auto auto"}},[`&${t}-top`]:{[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationName:c}},[`&${t}-bottom`]:{[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationName:a}},[`&${t}-topRight, &${t}-bottomRight`]:{[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationName:s}},[`&${t}-topLeft, &${t}-bottomLeft`]:{marginRight:{value:0,_skip_check_:!0},marginLeft:{value:o,_skip_check_:!0},[i]:{marginInlineEnd:"auto",marginInlineStart:0},[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationName:r}}}}},Be=["top","topLeft","topRight","bottom","bottomLeft","bottomRight"],He={topLeft:"left",topRight:"right",bottomLeft:"left",bottomRight:"right",top:"left",bottom:"left"},ze=(e,t)=>{const{componentCls:o}=e;return{[`${o}-${t}`]:{[`&${o}-stack > ${o}-notice-wrapper`]:{[t.startsWith("top")?"top":"bottom"]:0,[He[t]]:{value:0,_skip_check_:!0}}}}},Ae=e=>{const t={};for(let o=1;o<e.notificationStackLayer;o++)t[`&:nth-last-child(${o+1})`]={overflow:"hidden",[`& > ${e.componentCls}-notice`]:{opacity:0,transition:`opacity ${e.motionDurationMid}`}};return Object.assign({[`&:not(:nth-last-child(-n+${e.notificationStackLayer}))`]:{opacity:0,overflow:"hidden",color:"transparent",pointerEvents:"none"}},t)},Ge=e=>{const t={};for(let o=1;o<e.notificationStackLayer;o++)t[`&:nth-last-child(${o+1})`]={background:e.colorBgBlur,backdropFilter:"blur(10px)","-webkit-backdrop-filter":"blur(10px)"};return Object.assign({},t)},ke=e=>{const{componentCls:t}=e;return Object.assign({[`${t}-stack`]:{[`& > ${t}-notice-wrapper`]:Object.assign({transition:`all ${e.motionDurationSlow}, backdrop-filter 0s`,position:"absolute"},Ae(e))},[`${t}-stack:not(${t}-stack-expanded)`]:{[`& > ${t}-notice-wrapper`]:Object.assign({},Ge(e))},[`${t}-stack${t}-stack-expanded`]:{[`& > ${t}-notice-wrapper`]:{"&:not(:nth-last-child(-n + 1))":{opacity:1,overflow:"unset",color:"inherit",pointerEvents:"auto",[`& > ${e.componentCls}-notice`]:{opacity:1}},"&:after":{content:'""',position:"absolute",height:e.margin,width:"100%",insetInline:0,bottom:e.calc(e.margin).mul(-1).equal(),background:"transparent",pointerEvents:"auto"}}}},Be.map(o=>ze(e,o)).reduce((o,n)=>Object.assign(Object.assign({},o),n),{}))},K=e=>{const{iconCls:t,componentCls:o,boxShadow:n,fontSizeLG:i,notificationMarginBottom:s,borderRadiusLG:c,colorSuccess:a,colorInfo:r,colorWarning:d,colorError:m,colorTextHeading:l,notificationBg:y,notificationPadding:h,notificationMarginEdge:$,fontSize:C,lineHeight:v,width:S,notificationIconSize:x,colorText:O}=e,g=`${o}-notice`;return{position:"relative",marginBottom:s,marginInlineStart:"auto",background:y,borderRadius:c,boxShadow:n,[g]:{padding:h,width:S,maxWidth:`calc(100vw - ${T(e.calc($).mul(2).equal())})`,overflow:"hidden",lineHeight:v,wordWrap:"break-word"},[`${g}-message`]:{marginBottom:e.marginXS,color:l,fontSize:i,lineHeight:e.lineHeightLG},[`${g}-description`]:{fontSize:C,color:O},[`${g}-closable ${g}-message`]:{paddingInlineEnd:e.paddingLG},[`${g}-with-icon ${g}-message`]:{marginBottom:e.marginXS,marginInlineStart:e.calc(e.marginSM).add(x).equal(),fontSize:i},[`${g}-with-icon ${g}-description`]:{marginInlineStart:e.calc(e.marginSM).add(x).equal(),fontSize:C},[`${g}-icon`]:{position:"absolute",fontSize:x,lineHeight:1,[`&-success${t}`]:{color:a},[`&-info${t}`]:{color:r},[`&-warning${t}`]:{color:d},[`&-error${t}`]:{color:m}},[`${g}-close`]:Object.assign({position:"absolute",top:e.notificationPaddingVertical,insetInlineEnd:e.notificationPaddingHorizontal,color:e.colorIcon,outline:"none",width:e.notificationCloseButtonSize,height:e.notificationCloseButtonSize,borderRadius:e.borderRadiusSM,transition:`background-color ${e.motionDurationMid}, color ${e.motionDurationMid}`,display:"flex",alignItems:"center",justifyContent:"center","&:hover":{color:e.colorIconHover,backgroundColor:e.colorBgTextHover},"&:active":{backgroundColor:e.colorBgTextActive}},ae(e)),[`${g}-btn`]:{float:"right",marginTop:e.marginSM}}},De=e=>{const{componentCls:t,notificationMarginBottom:o,notificationMarginEdge:n,motionDurationMid:i,motionEaseInOut:s}=e,c=`${t}-notice`,a=new w("antNotificationFadeOut",{"0%":{maxHeight:e.animationMaxHeight,marginBottom:o},"100%":{maxHeight:0,marginBottom:0,paddingTop:0,paddingBottom:0,opacity:0}});return[{[t]:Object.assign(Object.assign({},re(e)),{position:"fixed",zIndex:e.zIndexPopup,marginRight:{value:n,_skip_check_:!0},[`${t}-hook-holder`]:{position:"relative"},[`${t}-fade-appear-prepare`]:{opacity:"0 !important"},[`${t}-fade-enter, ${t}-fade-appear`]:{animationDuration:e.motionDurationMid,animationTimingFunction:s,animationFillMode:"both",opacity:0,animationPlayState:"paused"},[`${t}-fade-leave`]:{animationTimingFunction:s,animationFillMode:"both",animationDuration:i,animationPlayState:"paused"},[`${t}-fade-enter${t}-fade-enter-active, ${t}-fade-appear${t}-fade-appear-active`]:{animationPlayState:"running"},[`${t}-fade-leave${t}-fade-leave-active`]:{animationName:a,animationPlayState:"running"},"&-rtl":{direction:"rtl",[`${c}-btn`]:{float:"left"}}})},{[t]:{[`${c}-wrapper`]:Object.assign({},K(e))}}]},J=e=>({zIndexPopup:e.zIndexPopupBase+se+50,width:384}),Q=e=>{const t=e.paddingMD,o=e.paddingLG;return ce(e,{notificationBg:e.colorBgElevated,notificationPaddingVertical:t,notificationPaddingHorizontal:o,notificationIconSize:e.calc(e.fontSizeLG).mul(e.lineHeightLG).equal(),notificationCloseButtonSize:e.calc(e.controlHeightLG).mul(.55).equal(),notificationMarginBottom:e.margin,notificationPadding:`${T(e.paddingMD)} ${T(e.paddingContentHorizontalLG)}`,notificationMarginEdge:e.marginLG,animationMaxHeight:150,notificationStackLayer:3})},Y=ie("Notification",e=>{const t=Q(e);return[De(t),_e(t),ke(t)]},J),We=le(["Notification","PurePanel"],e=>{const t=`${e.componentCls}-notice`,o=Q(e);return{[`${t}-pure-panel`]:Object.assign(Object.assign({},K(o)),{width:o.width,maxWidth:`calc(100vw - ${T(e.calc(o.notificationMarginEdge).mul(2).equal())})`,margin:0})}},J);var Ve=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(o[n[i]]=e[n[i]]);return o};function A(e,t){return t===null||t===!1?null:t||u.createElement(de,{className:`${e}-close-icon`})}const qe={success:pe,info:Ne,error:ue,warning:fe},Z=e=>{const{prefixCls:t,icon:o,type:n,message:i,description:s,btn:c,role:a="alert"}=e;let r=null;return o?r=u.createElement("span",{className:`${t}-icon`},o):n&&(r=u.createElement(qe[n]||null,{className:j(`${t}-icon`,`${t}-icon-${n}`)})),u.createElement("div",{className:j({[`${t}-with-icon`]:r}),role:a},r,u.createElement("div",{className:`${t}-message`},i),u.createElement("div",{className:`${t}-description`},s),c&&u.createElement("div",{className:`${t}-btn`},c))},Ue=e=>{const{prefixCls:t,className:o,icon:n,type:i,message:s,description:c,btn:a,closable:r=!0,closeIcon:d,className:m}=e,l=Ve(e,["prefixCls","className","icon","type","message","description","btn","closable","closeIcon","className"]),{getPrefixCls:y}=u.useContext(H),h=t||y("notification"),$=`${h}-notice`,C=q(h),[v,S,x]=Y(h,C);return v(u.createElement("div",{className:j(`${$}-pure-panel`,S,o,x,C)},u.createElement(We,{prefixCls:h}),u.createElement(Oe,Object.assign({},l,{prefixCls:h,eventKey:"pure",duration:null,closable:r,className:j({notificationClassName:m}),closeIcon:A(h,d),content:u.createElement(Z,{prefixCls:$,icon:n,type:i,message:s,description:c,btn:a})}))))};function Xe(e,t,o){let n;switch(e){case"top":n={left:"50%",transform:"translateX(-50%)",right:"auto",top:t,bottom:"auto"};break;case"topLeft":n={left:0,top:t,bottom:"auto"};break;case"topRight":n={right:0,top:t,bottom:"auto"};break;case"bottom":n={left:"50%",transform:"translateX(-50%)",right:"auto",top:"auto",bottom:o};break;case"bottomLeft":n={left:0,top:"auto",bottom:o};break;default:n={right:0,top:"auto",bottom:o};break}return n}function Ke(e){return{motionName:`${e}-fade`}}var Je=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(o[n[i]]=e[n[i]]);return o};const W=24,Qe=4.5,Ye="topRight",Ze=e=>{let{children:t,prefixCls:o}=e;const n=q(o),[i,s,c]=Y(o,n);return i(f.createElement(Ie,{classNames:{list:j(s,c,n)}},t))},et=(e,t)=>{let{prefixCls:o,key:n}=t;return f.createElement(Ze,{prefixCls:o,key:n},e)},tt=f.forwardRef((e,t)=>{const{top:o,bottom:n,prefixCls:i,getContainer:s,maxCount:c,rtl:a,onAllRemoved:r,stack:d,duration:m}=e,{getPrefixCls:l,getPopupContainer:y,notification:h,direction:$}=u.useContext(H),[,C]=me(),v=i||l("notification"),S=N=>Xe(N,o??W,n??W),x=()=>j({[`${v}-rtl`]:a??$==="rtl"}),O=()=>Ke(v),[g,F]=we({prefixCls:v,style:S,className:x,motion:O,closable:!0,closeIcon:A(v),duration:m??Qe,getContainer:()=>(s==null?void 0:s())||(y==null?void 0:y())||document.body,maxCount:c,onAllRemoved:r,renderNotifications:et,stack:d===!1?!1:{threshold:typeof d=="object"?d==null?void 0:d.threshold:void 0,offset:8,gap:C.margin}});return f.useImperativeHandle(t,()=>Object.assign(Object.assign({},g),{prefixCls:v,notification:h})),F});function ee(e){const t=f.useRef(null);return ge(),[f.useMemo(()=>{const n=a=>{var r;if(!t.current)return;const{open:d,prefixCls:m,notification:l}=t.current,y=`${m}-notice`,{message:h,description:$,icon:C,type:v,btn:S,className:x,style:O,role:g="alert",closeIcon:F,closable:N}=a,ne=Je(a,["message","description","icon","type","btn","className","style","role","closeIcon","closable"]),k=A(y,typeof F<"u"?F:l==null?void 0:l.closeIcon);return d(Object.assign(Object.assign({placement:(r=e==null?void 0:e.placement)!==null&&r!==void 0?r:Ye},ne),{content:f.createElement(Z,{prefixCls:y,icon:C,type:v,message:h,description:$,btn:S,role:g}),className:j(v&&`${y}-${v}`,x,l==null?void 0:l.className),style:Object.assign(Object.assign({},l==null?void 0:l.style),O),closeIcon:k,closable:N??!!k}))},s={open:n,destroy:a=>{var r,d;a!==void 0?(r=t.current)===null||r===void 0||r.close(a):(d=t.current)===null||d===void 0||d.destroy()}};return["success","info","warning","error"].forEach(a=>{s[a]=r=>n(Object.assign(Object.assign({},r),{type:a}))}),s},[]),f.createElement(tt,Object.assign({key:"notification-holder"},e,{ref:t}))]}function ot(e){return ee(e)}let P=null,E=e=>e(),M=[],I={};function V(){const{getContainer:e,rtl:t,maxCount:o,top:n,bottom:i}=I,s=(e==null?void 0:e())||document.body;return{getContainer:()=>s,rtl:t,maxCount:o,top:n,bottom:i}}const nt=f.forwardRef((e,t)=>{const{notificationConfig:o,sync:n}=e,{getPrefixCls:i}=u.useContext(H),s=I.prefixCls||i("notification"),c=u.useContext(Fe),[a,r]=ee(Object.assign(Object.assign(Object.assign({},o),{prefixCls:s}),c.notification));return f.useEffect(n,[]),f.useImperativeHandle(t,()=>{const d=Object.assign({},a);return Object.keys(d).forEach(m=>{d[m]=function(){return n(),a[m].apply(a,arguments)}}),{instance:d,sync:n}}),r}),it=f.forwardRef((e,t)=>{const[o,n]=f.useState(V),i=()=>{n(V)};f.useEffect(i,[]);const s=he(),c=s.getRootPrefixCls(),a=s.getIconPrefixCls(),r=s.getTheme(),d=f.createElement(nt,{ref:t,sync:i,notificationConfig:o});return f.createElement(ve,{prefixCls:c,iconPrefixCls:a,theme:r},s.holderRender?s.holderRender(d):d)});function G(){if(!P){const e=document.createDocumentFragment(),t={fragment:e};P=t,E(()=>{je(f.createElement(it,{ref:o=>{const{instance:n,sync:i}=o||{};Promise.resolve().then(()=>{!t.instance&&n&&(t.instance=n,t.sync=i,G())})}}),e)});return}P.instance&&(M.forEach(e=>{switch(e.type){case"open":{E(()=>{P.instance.open(Object.assign(Object.assign({},I),e.config))});break}case"destroy":E(()=>{P==null||P.instance.destroy(e.key)});break}}),M=[])}function at(e){I=Object.assign(Object.assign({},I),e),E(()=>{var t;(t=P==null?void 0:P.sync)===null||t===void 0||t.call(P)})}function te(e){M.push({type:"open",config:e}),G()}const rt=e=>{M.push({type:"destroy",key:e}),G()},st=["success","info","warning","error"],ct={open:te,destroy:rt,config:at,useNotification:ot,_InternalPanelDoNotUseOrYouWillBeFired:Ue},oe=ct;st.forEach(e=>{oe[e]=t=>te(Object.assign(Object.assign({},t),{type:e}))});var lt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},dt=function(t,o){return u.createElement(be,ye({},t,{ref:o,icon:lt}))},pt=u.forwardRef(dt),ut=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],ft=f.forwardRef(function(e,t){var o=e.fieldProps,n=e.options,i=e.radioType,s=e.layout,c=e.proFieldProps,a=e.valueEnum,r=z(e,ut);return p.jsx(R,b(b({valueType:i==="button"?"radioButton":"radio",ref:t,valueEnum:Te(a,void 0)},r),{},{fieldProps:b({options:n,layout:s},o),proFieldProps:c,filedConfig:{customLightMode:!0}}))}),mt=f.forwardRef(function(e,t){var o=e.fieldProps,n=e.children;return p.jsx(X,b(b({},o),{},{ref:t,children:n}))}),gt=Ee(mt,{valuePropName:"checked",ignoreWidth:!0}),B=gt;B.Group=ft;B.Button=X.Button;B.displayName="ProFormComponent";var vt=["fieldProps","proFieldProps"],ht=["fieldProps","proFieldProps"],L="text",bt=function(t){var o=t.fieldProps,n=t.proFieldProps,i=z(t,vt);return p.jsx(R,b({valueType:L,fieldProps:o,filedConfig:{valueType:L},proFieldProps:n},i))},yt=function(t){var o=Ce(t.open||!1,{value:t.open,onChange:t.onOpenChange}),n=U(o,2),i=n[0],s=n[1];return p.jsx(Re.Item,{shouldUpdate:!0,noStyle:!0,children:function(a){var r,d=a.getFieldValue(t.name||[]);return p.jsx(xe,b(b({getPopupContainer:function(l){return l&&l.parentNode?l.parentNode:l},onOpenChange:function(l){return s(l)},content:p.jsxs("div",{style:{padding:"4px 0"},children:[(r=t.statusRender)===null||r===void 0?void 0:r.call(t,d),t.strengthText?p.jsx("div",{style:{marginTop:10},children:p.jsx("span",{children:t.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},t.popoverProps),{},{open:i,children:t.children}))}})},Pt=function(t){var o=t.fieldProps,n=t.proFieldProps,i=z(t,ht),s=u.useState(!1),c=U(s,2),a=c[0],r=c[1];return o!=null&&o.statusRender&&i.name?p.jsx(yt,{name:i.name,statusRender:o==null?void 0:o.statusRender,popoverProps:o==null?void 0:o.popoverProps,strengthText:o==null?void 0:o.strengthText,open:a,onOpenChange:r,children:p.jsx("div",{children:p.jsx(R,b({valueType:"password",fieldProps:b(b({},Pe(o,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(m){var l;o==null||(l=o.onBlur)===null||l===void 0||l.call(o,m),r(!1)},onClick:function(m){var l;o==null||(l=o.onClick)===null||l===void 0||l.call(o,m),r(!0)}}),proFieldProps:n,filedConfig:{valueType:L}},i))})}):p.jsx(R,b({valueType:"password",fieldProps:o,proFieldProps:n,filedConfig:{valueType:L}},i))},_=bt;_.Password=Pt;_.displayName="ProFormComponent";function Ct(){const{setLogined:e}=$e(),[t,o]=oe.useNotification(),n=(c,a)=>{t.info({message:"登录失败",description:a,icon:p.jsx(D,{style:{color:"rgba(255,77,81,0.58)"}}),placement:c})},i=u.useContext(Se),s=(i==null?void 0:i.API_URL)+"/api/v1/auth/login";return p.jsxs(p.Fragment,{children:[o,p.jsx(B.Group,{style:{margin:16},radioType:"button"}),p.jsxs(Me,{title:"LoongPanel",onFinish:async c=>{fetch(s,{method:"POST",body:JSON.stringify(c),headers:{"Content-Type":"application/json",Cookie:document.cookie,Authorization:"Bearer "+document.cookie?document.cookie.split("=")[1]:""}}).then(async a=>{if(a.status===200){const r=await a.json();if(r.code===200)document.cookie=`SESSION=${r.session}`,e(!0),window.location.href="/";else{const d=await a.json();n("top",d.msg)}}else{const r=await a.json();n("top",r.msg)}})},children:[p.jsx(_,{name:"username",fieldProps:{size:"large",prefix:p.jsx(D,{className:"prefixIcon"})},placeholder:"用户名: admin or user",rules:[{required:!0,message:"请输入用户名!"}]}),p.jsx(_.Password,{name:"password",fieldProps:{size:"large",prefix:p.jsx(pt,{className:"prefixIcon"})},placeholder:"密码: 123456",rules:[{required:!0,message:"请输入密码！"}]})]})]})}const Ft=()=>p.jsx(p.Fragment,{children:p.jsx(Le,{title:"登录",headerBordered:!0,style:{width:500,margin:"auto",marginTop:"10%",padding:30},children:p.jsx(Ct,{})})});export{Ft as default};
